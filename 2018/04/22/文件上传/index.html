<!DOCTYPE html>



  


<html class="theme-next pisces use-motion" lang="zh-Hans">
<head>
  <meta charset="UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=edge" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"/>
<meta name="theme-color" content="#222">









<meta http-equiv="Cache-Control" content="no-transform" />
<meta http-equiv="Cache-Control" content="no-siteapp" />
















  
  
  <link href="/lib/fancybox/source/jquery.fancybox.css?v=2.1.5" rel="stylesheet" type="text/css" />







<link href="/lib/font-awesome/css/font-awesome.min.css?v=4.6.2" rel="stylesheet" type="text/css" />

<link href="/css/main.css?v=5.1.4" rel="stylesheet" type="text/css" />


  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png?v=5.1.4">


  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png?v=5.1.4">


  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png?v=5.1.4">


  <link rel="mask-icon" href="/images/logo.svg?v=5.1.4" color="#222">





  <meta name="keywords" content="Hexo, NexT" />










<meta name="description" content="文件上传概述1.文件上传是什么&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;在web开发中经常需要从客户端向服务器上传文件,如:上传照片,上传新闻图片,上传附件等等,这些都需要通过web开发中的文件上传技术实现.2.文件上传步骤&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;实现wb开发中的文件上传功能只需要两个步骤:&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;(1).提供一个带有文件上传项">
<meta property="og:type" content="article">
<meta property="og:title" content="文件上传">
<meta property="og:url" content="http://yoursite.com/2018/04/22/文件上传/index.html">
<meta property="og:site_name" content="花姐学编程">
<meta property="og:description" content="文件上传概述1.文件上传是什么&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;在web开发中经常需要从客户端向服务器上传文件,如:上传照片,上传新闻图片,上传附件等等,这些都需要通过web开发中的文件上传技术实现.2.文件上传步骤&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;实现wb开发中的文件上传功能只需要两个步骤:&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;(1).提供一个带有文件上传项">
<meta property="og:locale" content="zh-Hans">
<meta property="og:updated_time" content="2017-12-12T11:59:58.000Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="文件上传">
<meta name="twitter:description" content="文件上传概述1.文件上传是什么&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;在web开发中经常需要从客户端向服务器上传文件,如:上传照片,上传新闻图片,上传附件等等,这些都需要通过web开发中的文件上传技术实现.2.文件上传步骤&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;实现wb开发中的文件上传功能只需要两个步骤:&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;(1).提供一个带有文件上传项">



<script type="text/javascript" id="hexo.configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '/',
    scheme: 'Pisces',
    version: '5.1.4',
    sidebar: {"position":"left","display":"post","offset":12,"b2t":false,"scrollpercent":false,"onmobile":false},
    fancybox: true,
    tabs: true,
    motion: {"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},
    duoshuo: {
      userId: '0',
      author: '博主'
    },
    algolia: {
      applicationID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    }
  };
</script>



  <link rel="canonical" href="http://yoursite.com/2018/04/22/文件上传/"/>





  <title>文件上传 | 花姐学编程</title>
  








</head>

<body itemscope itemtype="http://schema.org/WebPage" lang="zh-Hans">

  
  
    
  

  <div class="container sidebar-position-left page-post-detail">
    <div class="headband"></div>

    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-wrapper">
  <div class="site-meta ">
    

    <div class="custom-logo-site-title">
      <a href="/"  class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">花姐学编程</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
      
        <p class="site-subtitle">总有一款文章适合你!</p>
      
  </div>

  <div class="site-nav-toggle">
    <button>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
    </button>
  </div>
</div>

<nav class="site-nav">
  

  
    <ul id="menu" class="menu">
      
        
        <li class="menu-item menu-item-home">
          <a href="/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-home"></i> <br />
            
            首页
          </a>
        </li>
      
        
        <li class="menu-item menu-item-tags">
          <a href="/tags/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-question-circle"></i> <br />
            
            标签
          </a>
        </li>
      
        
        <li class="menu-item menu-item-categories">
          <a href="/categories/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-question-circle"></i> <br />
            
            分类
          </a>
        </li>
      
        
        <li class="menu-item menu-item-archives">
          <a href="/archives/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-question-circle"></i> <br />
            
            归档
          </a>
        </li>
      

      
    </ul>
  

  
</nav>



 </div>
    </header>

    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          <div id="content" class="content">
            

  <div id="posts" class="posts-expand">
    

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2018/04/22/文件上传/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="花姐">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="http://res.cloudinary.com/fireworks/image/upload/v1535524128/699780080297606004_glfn2f.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="花姐学编程">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">文件上传</h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2018-04-22T13:19:55+08:00">
                2018-04-22
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        <h3 id="文件上传概述"><a href="#文件上传概述" class="headerlink" title="文件上传概述"></a>文件上传概述</h3><p>1.文件上传是什么<br>&nbsp;&nbsp;&nbsp;&nbsp;在web开发中经常需要从客户端向服务器上传文件,如:上传照片,上传新闻图片,上传附件等等,这些都需要通过web开发中的文件上传技术实现.<br>2.文件上传步骤<br>&nbsp;&nbsp;&nbsp;&nbsp;实现wb开发中的文件上传功能只需要两个步骤:<br>&nbsp;&nbsp;&nbsp;&nbsp;(1).提供一个带有文件上传项的表单.<br>&nbsp;&nbsp;&nbsp;&nbsp;(2).在servlet中读取处理上传的文件,保存到服务器.</p>
<h3 id="文件上传实现"><a href="#文件上传实现" class="headerlink" title="文件上传实现"></a>文件上传实现</h3><p>1.在用户页面中添加上传输入项(客户端页面操作)<br><code>&lt;input type=&quot;file&quot; name=&quot;filex&quot;&gt;</code><br>&nbsp;&nbsp;&nbsp;&nbsp;注意事项:<br>&nbsp;&nbsp;&nbsp;&nbsp;(1).必须为文件上传input提供name属性,否则文件上传内容不会被表单提交.<br>&nbsp;&nbsp;&nbsp;&nbsp;(2).表单的提交方式必须为post(get提交数据在url地址上显示,有长度限制)<br>&nbsp;&nbsp;&nbsp;&nbsp;(3).表单必须设置enctype=multipart/form-data<br>2.在服务器端编写文件上传程序<br>&nbsp;&nbsp;&nbsp;&nbsp;通过Request对象提供一个getInputStream方法,可以读取到客户端提交过来的数据,但这种方式还需要对流中获取到的数据进行处理.<br>&nbsp;&nbsp;&nbsp;&nbsp;为了简化这个处理过程,Apache开源组织提供了一个用来处理表单文件上传的一个开源组件(Commons-fileupload),让开发人员轻松实现web文件上传功能.<br>3.上传组件(Apache commons-fileupload)使用过程<br>&nbsp;&nbsp;&nbsp;&nbsp;首先需要下载并导入该组件相关的支撑jar包:Commons-filesupload和commons-io,然后编程实现,步骤如下:<br>    (1)创建DiskFileItemFactory对象,设置缓冲区大小和临时文件目录</p>
<pre><code>public DiskFileItemFactory(int sizeThreshold,java.io.File repository) 
//构造工厂时,指定内存缓冲区大小和临时文件存放位置
public void setSizeThreshold(int sizeThreshold)
//设置内存缓冲区大小,默认10k
public void setRepository(java.io.File repository)
//设置临时文件存放位置,默认 System.getProperty(&quot;java.io.tmpdir&quot;)
*内存缓存区:上传文件时,上传文件的内容优先保存在内存缓冲区中,当
*上传文临时大小超过缓冲区大小,就会在服务器端产生临时文件
*临时文件存放位置:保存超过了内存缓冲区大小上传文件而产生临时文件
*产生临时文件可以通过FileItem的delete方法删除
</code></pre><p>(2).使用DiskFileItemFactory对象创建ServletFileUpload对象,并设置上传文件的大小限制.<br>(3).调用ServletFileUpload.parseRequest方法解析request对象,得到一个保存了所有上传FileItem的list集合  </p>
<pre><code>ServeltFIleUpload负责处理上传的文件数据,并将表单中每个输入项封装成一个FileItem对象中.常用的方法有:
//判断上传表单是否为multipart/form-data类型
boolean isMutipartContent(HttpServletRequest request)
//解析request对象,并把表单中的每一个输入项包装成fileItem对象,并返回一个保存了所有FileItem的list集合.
List parseRequest(HttpServletRequest request)
//设置单个上传文件的最大值
setFileSizeMax(long fileSizeMax)
//设置上传文件总量的最大值
setSizeMax(long sizeMax)
//解决上传文件名乱码问题
setHeadEncoding(java.lang.String encoding)
//实时监听文件上传状态
setProgressListener(ProgressListener pListener)
</code></pre><p>(4).对List进行迭代,每迭代一个FileItem对象,调用其isFormField方法判断是否上传文件.<br>&nbsp;&nbsp;&nbsp;&nbsp;True为普通表单字段,则调用getFieldName,getString方法得到字段名和字段值.<br>&nbsp;&nbsp;&nbsp;&nbsp;False为上传文件项,则调用getInputStream方法得到数据输入流,从而读取上传数据.<br>(5).如果是文件上传就通过流获取上传的数据保存到服务器中.  </p>
<pre><code>boolean idFormField()判断FileItem是一个文件上传对象还是普通字段项:
String getFieldName() 获得普通表单对象的name属性
String getString(String encoding)获得普通表单对象的value属性,可以用encoding进行编码设置
文件上传项:
String getName()获得上传文件的文件名(有些浏览器会携带客户端路径)
InputStream getInputStream()获得上传文件的输入流
delete() 在关闭FileItem输入流后,删除临时文件
</code></pre><h3 id="上传文件的监听"><a href="#上传文件的监听" class="headerlink" title="上传文件的监听"></a>上传文件的监听</h3><pre><code>//ServletFileUpload类提供了如下方法,监听文件上传时的进度信息:
pulbic void setProgressListener(ProgressListener pListener)
//设置监听器,文件上传程序会自动执行,监听器中update方法
public void update(long pBytesRead,long pContentLength,int pItems)
//在方法中可以获得文件总大小,已经上传大小和上传第几个元素
能否根据上面三个参数计算:剩余大小、传输速度、已用时间、剩余时间
(1).已用时间 = 当前时间 -开始时间
(2).速度 = 已经上传大小/已用时间
(3).剩余时间 = 总大小 - 已经上传大小
(4).剩余时间 = 剩余大小/速度
</code></pre><h3 id="上传文件注意问题"><a href="#上传文件注意问题" class="headerlink" title="上传文件注意问题"></a>上传文件注意问题</h3><p>1.文件保存位置<br>&nbsp;&nbsp;&nbsp;&nbsp;上传的文件如果直接存放在web应用根目录下,通过浏览器是可以直接访问的,如果用户上传一个JSP,再通过浏览器访问就可以通过文件上传在服务器执行任意的java代码,十分危险.<br>&nbsp;&nbsp;&nbsp;&nbsp;所以一定要注意,文件上传服务器保存文件的位置必须是WEB-INF目录下或服务器中浏览器无法访问的位置.<br>2.防止上传的文件重名覆盖<br>&nbsp;&nbsp;&nbsp;&nbsp;上传的文件如果重名,后上传的文件就会覆盖先上传文件.&nbsp;&nbsp;&nbsp;&nbsp;为了防止这样的问题产生,应该对文件名进行处理,可以在文件名钱拼接UUID,防止文件名重复.<br><code>filename = UUID.randomUUID().toString()+&quot;_&quot;+filename;</code><br>3.防止同一个目录下上传文件过多<br>&nbsp;&nbsp;&nbsp;&nbsp;一个目录下如果文件过多,必须会导致访问效率下降,所以我们需要将上传的文件进行分目录存储.<br>&nbsp;&nbsp;&nbsp;&nbsp;分目录存储的算法可以有很多:<br>&nbsp;&nbsp;&nbsp;&nbsp;(1).按照上传时间进行目录分离(周,月)<br>&nbsp;&nbsp;&nbsp;&nbsp;(2).按照上传用户进行目录分离—为每个用户建立单独目录<br>&nbsp;&nbsp;&nbsp;&nbsp;(3).按照固定数量进行目录分离–假设每个目录只能存在3000个文件后,创建一个新的目录<br>&nbsp;&nbsp;&nbsp;&nbsp;(4).按照唯一文件名的hashcode进行目录分离</p>
<pre><code>public static String generateRandomDir(String uui获dFileName){
//获得唯一文件名的hashcode
int hashcode = uuidFileName.hashCode();
//获得一级目录
int d1 = hashcode &amp; 0xf;
//获得二级目录
int d2 = (hashcode &gt;&gt;&gt; 4)&amp;0xf;
return &quot;/&quot;+ d2 + &quot;/&quot;+ d1;//共有256目录
}
</code></pre><p>4.文件上传代码</p>
<pre><code>1.创建一个UploadServlet类
try {
    response.setCharacterEncoding(&quot;utf-8&quot;);
    response.setContentType(&quot;text/html;charset=utf-8&quot;);

    //1.创建文件上传工厂
    DiskFileItemFactory factory = new DiskFileItemFactory(100, new File(this.getServletContext().getRealPath(&quot;WEB-INF/temp&quot;)));

    //2.创建文件上传的核心类
    ServletFileUpload fileUpload = new ServletFileUpload(factory);
    //--判断当前文件上传的表单是否满足enctype=multipart/form-data
    if(!fileUpload.isMultipartContent(request)){
        throw new RuntimeException(&quot;请使用正确的文件上传表单上传数据！&quot;);
    }
    //--设置文件名解析时采用的编码
    fileUpload.setHeaderEncoding(&quot;utf-8&quot;);
    //--单个文件不能超过1MB
    fileUpload.setFileSizeMax(1024 * 1024);
    //--总大小不能超过10MB
    fileUpload.setSizeMax(10 * 1024 * 1024);
    //--设置上传文件的监听
    fileUpload.setProgressListener(new ProgressListener(){
        long begin = System.currentTimeMillis();
        public void update(long pBytesRead, long pContentLength,int pItems) {
    System.out.print(&quot;正在读取第&quot;+pItems+&quot;个上传项。。&quot;);
        System.out.print(&quot;共&quot;+pContentLength+&quot;字节。。&quot;);
        System.out.print(&quot;已经读取了&quot;+pBytesRead+&quot;字节。。&quot;);

        long leftBytes = pContentLength - pBytesRead;
        System.out.print(&quot;剩余&quot;+leftBytes+&quot;字节。。&quot;);

        long now = System.currentTimeMillis();
        long usetime = (now - begin)/1000 ;
        System.out.print(&quot;已经用时&quot; + usetime+&quot;秒。。&quot;);

        long speed = usetime == 0 ? 0 : pBytesRead / usetime / 1024;
        System.out.print(&quot;上传速度&quot; + speed+&quot;KB/s。。&quot;);

        double per = Math.round(pBytesRead * 10000.0 / pContentLength)/100.0;
        System.out.println(&quot;上传百分比&quot; + per + &quot;%。。&quot;);

        long lefttime = speed == 0 ? 0 : leftBytes /1024 / speed;
        System.out.println(&quot;大致剩余时间&quot;+lefttime+&quot;秒&quot;);

        request.getSession().setAttribute(&quot;progress&quot;, per);
        }

        });

    //--解析request得到FileItem的集合
    List&lt;FileItem&gt; items = fileUpload.parseRequest(request);

    //--遍历每个item分别做处理
    for(FileItem item : items){
        if(item.isFormField()){
            //普通字段项
            String name = item.getFieldName();
            String value = item.getString(&quot;utf-8&quot;);
            System.out.println(name+&quot;~&quot;+value);
        }else{
            //文件上传项
            String fname = item.getName();
            //--处理ie文件名bug
            if(fname.contains(&quot;\\&quot;)){
                fname = fname.substring(fname.lastIndexOf(&quot;\\&quot;)+1);
            }

            //--处理文件名 使其不会重复
            String savename = UUID.randomUUID().toString()+&quot;_&quot;+fname;

            //--文件分目录处理
            //----获取文件名的hash 转换为16进制字符串表现形式 由于文件名随机 所以 hash值也是散列的
            String hash = Integer.toHexString(savename.hashCode());

            //----如果hash不足8位则在前面拼接足够8位的0
            while(hash.length()&lt;8){
                hash += &quot;0&quot;;
            }
            //----遍历hash值字符串的每一个字符作为一级目录拼接
            String savepath = &quot;/WEB-INF/upload/&quot;;
            for(int i = 0;i&lt;hash.length();i++){
                savepath += (hash.charAt(i)+&quot;/&quot;);
            }
            //----创建出该目录
            new File(this.getServletContext().getRealPath(savepath)).mkdirs();

            //----得到输入流
            InputStream in = item.getInputStream();

            //----得到输出流 路径就是上面 hash拼接出的路径+文件名
            OutputStream out = new FileOutputStream(this.getServletContext().getRealPath(savepath + &quot;/&quot; +savename));

            //----输出数据到文件
            byte []  data = new byte[1024];
            int n = -1;
            while((n = in.read(data))!=-1){
                out.write(data,0,n);
            }

            //----关闭流
            in.close();
            out.close();

            //----删除缓存文件
            item.delete();
        }
    }

    } catch (FileSizeLimitExceededException e) {
        response.getWriter().write(&quot;文件大小超过限制！！&quot;);
    } catch (Exception e) {
        throw new RuntimeException(e);
    }
</code></pre>
      
    </div>
    
    
    

    
      <div>
        <div id="wechat_subscriber" style="display: block; padding: 10px 0; margin: 20px auto; width: 100%; text-align: center">
    <img id="wechat_subscriber_qcode" src="http://res.cloudinary.com/fireworks/image/upload/v1535525029/qrcode_for_gh_5dcb454905a4_258_1_zyzxhu.jpg" alt="花姐 wechat" style="width: 200px; max-width: 100%;"/>
    <div>欢迎您扫一扫上面的二维码，订阅我的微信公众号！</div>
</div>

      </div>
    

    
      <div>
        <div style="padding: 10px 0; margin: 20px auto; width: 90%; text-align: center;">
  <div>您的赞赏是对我最大的支持！</div>
  <button id="rewardButton" disable="enable" onclick="var qr = document.getElementById('QR'); if (qr.style.display === 'none') {qr.style.display='block';} else {qr.style.display='none'}">
    <span>打赏</span>
  </button>
  <div id="QR" style="display: none;">

    
      <div id="wechat" style="display: inline-block">
        <img id="wechat_qr" src="http://res.cloudinary.com/fireworks/image/upload/v1535524604/%E5%BE%AE%E4%BF%A1%E5%9B%BE%E7%89%87_20180829143622_kzfr3k.jpg" alt="花姐 微信支付"/>
        <p>微信支付</p>
      </div>
    

    

    

  </div>
</div>

      </div>
    

    

    <footer class="post-footer">
      

      
      
      

      
        <div class="post-nav">
          <div class="post-nav-next post-nav-item">
            
              <a href="/2018/04/22/事务/" rel="next" title="事务">
                <i class="fa fa-chevron-left"></i> 事务
              </a>
            
          </div>

          <span class="post-nav-divider"></span>

          <div class="post-nav-prev post-nav-item">
            
              <a href="/2018/04/22/云上快速搭建WordPress网站/" rel="prev" title="云上快速搭建WordPress网站">
                云上快速搭建WordPress网站 <i class="fa fa-chevron-right"></i>
              </a>
            
          </div>
        </div>
      

      
      
    </footer>
  </div>
  
  
  
  </article>



    <div class="post-spread">
      
    </div>
  </div>


          </div>
          


          

  



        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    
    <div class="sidebar-inner">

      

      
        <ul class="sidebar-nav motion-element">
          <li class="sidebar-nav-toc sidebar-nav-active" data-target="post-toc-wrap">
            文章目录
          </li>
          <li class="sidebar-nav-overview" data-target="site-overview-wrap">
            站点概览
          </li>
        </ul>
      

      <section class="site-overview-wrap sidebar-panel">
        <div class="site-overview">
          <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
            
              <img class="site-author-image" itemprop="image"
                src="http://res.cloudinary.com/fireworks/image/upload/v1535524128/699780080297606004_glfn2f.jpg"
                alt="花姐" />
            
              <p class="site-author-name" itemprop="name">花姐</p>
              <p class="site-description motion-element" itemprop="description">一份阅读,一份支持！</p>
          </div>

          <nav class="site-state motion-element">

            
              <div class="site-state-item site-state-posts">
              
                <a href="/archives/">
              
                  <span class="site-state-item-count">28</span>
                  <span class="site-state-item-name">日志</span>
                </a>
              </div>
            

            
              
              
              <div class="site-state-item site-state-categories">
                <a href="/categories/index.html">
                  <span class="site-state-item-count">4</span>
                  <span class="site-state-item-name">分类</span>
                </a>
              </div>
            

            
              
              
              <div class="site-state-item site-state-tags">
                <a href="/tags/index.html">
                  <span class="site-state-item-count">2</span>
                  <span class="site-state-item-name">标签</span>
                </a>
              </div>
            

          </nav>

          

          
            <div class="links-of-author motion-element">
                
                  <span class="links-of-author-item">
                    <a href="https://github.com/fireworksflower" target="_blank" title="GitHub">
                      
                        <i class="fa fa-fw fa-globe"></i>GitHub</a>
                  </span>
                
                  <span class="links-of-author-item">
                    <a href="https://blog.csdn.net/kbh528202" target="_blank" title="CSDN">
                      
                        <i class="fa fa-fw fa-globe"></i>CSDN</a>
                  </span>
                
            </div>
          

          
          

          
          

          

        </div>
      </section>

      
      <!--noindex-->
        <section class="post-toc-wrap motion-element sidebar-panel sidebar-panel-active">
          <div class="post-toc">

            
              
            

            
              <div class="post-toc-content"><ol class="nav"><li class="nav-item nav-level-3"><a class="nav-link" href="#文件上传概述"><span class="nav-number">1.</span> <span class="nav-text">文件上传概述</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#文件上传实现"><span class="nav-number">2.</span> <span class="nav-text">文件上传实现</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#上传文件的监听"><span class="nav-number">3.</span> <span class="nav-text">上传文件的监听</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#上传文件注意问题"><span class="nav-number">4.</span> <span class="nav-text">上传文件注意问题</span></a></li></ol></div>
            

          </div>
        </section>
      <!--/noindex-->
      

      

    </div>
  </aside>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright">&copy; <span itemprop="copyrightYear">2018</span>
  <span class="with-love">
    <i class="fa fa-user"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">花姐</span>

  
</div>


  <div class="powered-by">由 <a class="theme-link" target="_blank" href="https://hexo.io">Hexo</a> 强力驱动</div>



  <span class="post-meta-divider">|</span>



  <div class="theme-info">主题 &mdash; <a class="theme-link" target="_blank" href="https://github.com/iissnan/hexo-theme-next">NexT.Pisces</a> v5.1.4</div>




        







        
      </div>
    </footer>

    
      <div class="back-to-top">
        <i class="fa fa-arrow-up"></i>
        
      </div>
    

    

  </div>

  

<script type="text/javascript">
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>









  


  











  
  
    <script type="text/javascript" src="/lib/jquery/index.js?v=2.1.3"></script>
  

  
  
    <script type="text/javascript" src="/lib/fastclick/lib/fastclick.min.js?v=1.0.6"></script>
  

  
  
    <script type="text/javascript" src="/lib/jquery_lazyload/jquery.lazyload.js?v=1.9.7"></script>
  

  
  
    <script type="text/javascript" src="/lib/velocity/velocity.min.js?v=1.2.1"></script>
  

  
  
    <script type="text/javascript" src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script>
  

  
  
    <script type="text/javascript" src="/lib/fancybox/source/jquery.fancybox.pack.js?v=2.1.5"></script>
  

  
  
    <script type="text/javascript" src="/lib/canvas-nest/canvas-nest.min.js"></script>
  


  


  <script type="text/javascript" src="/js/src/utils.js?v=5.1.4"></script>

  <script type="text/javascript" src="/js/src/motion.js?v=5.1.4"></script>



  
  


  <script type="text/javascript" src="/js/src/affix.js?v=5.1.4"></script>

  <script type="text/javascript" src="/js/src/schemes/pisces.js?v=5.1.4"></script>



  
  <script type="text/javascript" src="/js/src/scrollspy.js?v=5.1.4"></script>
<script type="text/javascript" src="/js/src/post-details.js?v=5.1.4"></script>



  


  <script type="text/javascript" src="/js/src/bootstrap.js?v=5.1.4"></script>



  


  




	





  





  












  





  

  

  

  
  

  

  

  

 
<script type="text/javascript"
color="0,0,255" opacity='0.7' zIndex="-2" count="99" src="//cdn.bootcss.com/canvas-nest.js/1.0.0/canvas-nest.min.js"></script>
{% e
</body>
</html>
